{"version":3,"sources":["webpack:///./js/content-script.js"],"names":["apiId","eventOn","onCallObertonFunction","e","detail","event","CustomEvent","appId","subject","value","chrome","runtime","sendMessage","window","dispatchEvent","onMessage","addListener","data","addEventListener"],"mappings":";;AAAA,IAAIA,KAAK,GAAG,IAAZ;AACA,IAAIC,OAAO,GAAG,KAAd;;AAEA,SAASC,qBAAT,CAA+BC,CAA/B,EAAkC;AAEhCH,OAAK,GAAGG,CAAC,CAACC,MAAF,CAASJ,KAAjB;AAEA,QAAMK,KAAK,GAAG,IAAIC,WAAJ,CAAgB,4BAAhB,EAA8C;AAC1DF,UAAM,EAAE;AACNG,WAAK,EAAEJ,CAAC,CAACC,MAAF,CAASJ,KADV;AAENQ,aAAO,EAAE,iBAFH;AAGNC,WAAK,EAAE;AAHD;AADkD,GAA9C,CAAd;AAQAC,QAAM,CAACC,OAAP,CAAeC,WAAf,CAA2BT,CAAC,CAACC,MAA7B;AAEAS,QAAM,CAACC,aAAP,CAAqBT,KAArB;AACD;;AAEDK,MAAM,CAACC,OAAP,CAAeI,SAAf,CAAyBC,WAAzB,CAAsCC,IAAD,IAAU;AAC7C,MAAIA,IAAI,CAACjB,KAAL,KAAeA,KAAnB,EAA0B;AACxB,UAAMK,KAAK,GAAG,IAAIC,WAAJ,CAAgB,4BAAhB,EAA8C;AAC1DF,YAAM,EAAE;AACNG,aAAK,EAAEP,KADD;AAENQ,eAAO,EAAES,IAAI,CAACT,OAFR;AAGNC,aAAK,EAAEQ,IAAI,CAACR;AAHN;AADkD,KAA9C,CAAd;AAQAI,UAAM,CAACC,aAAP,CAAqBT,KAArB;AACD;AACF,CAZD;;AAcA,IAAI,CAACJ,OAAL,EAAc;AACZY,QAAM,CAACK,gBAAP,CAAwB,8BAAxB,EAAwDhB,qBAAxD;AACAD,SAAO,GAAG,IAAV;AACD,C","file":"js/content-script.js","sourcesContent":["let apiId = null;\nlet eventOn = false;\n\nfunction onCallObertonFunction(e) {\n\n  apiId = e.detail.apiId;\n\n  const event = new CustomEvent('@oberton/extensionResponse', {\n    detail: {\n      appId: e.detail.apiId,\n      subject: 'extensionExists',\n      value: true,\n    },\n  });\n\n  chrome.runtime.sendMessage(e.detail);\n\n  window.dispatchEvent(event);\n}\n\nchrome.runtime.onMessage.addListener((data) => {\n  if (data.apiId === apiId) {\n    const event = new CustomEvent('@oberton/extensionResponse', {\n      detail: {\n        appId: apiId,\n        subject: data.subject,\n        value: data.value,\n      },\n    });\n\n    window.dispatchEvent(event);\n  }\n});\n\nif (!eventOn) {\n  window.addEventListener('@oberton/callObertonFunction', onCallObertonFunction);\n  eventOn = true;\n}\n"],"sourceRoot":""}